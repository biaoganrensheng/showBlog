<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>学习微信开发者工具 - Blog - 努力的人生</title>
	<meta name="description" content="学习微信开发者工具！">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta property="og:image" content="">
	<link rel="shortcut icon" href="/assets/img/blog.ico" type="image/x-icon">
	<link rel="apple-touch-icon" href="/assets/img/blog.ico">
	<link rel="apple-touch-icon" sizes="72x72" href="/assets/img/blog.ico">
	<link rel="apple-touch-icon" sizes="114x114" href="/assets/img/blog.ico">
	<!-- Chrome, Firefox OS and Opera -->
	<meta name="theme-color" content="#311e3e">
	<!-- Windows Phone -->
	<meta name="msapplication-navbutton-color" content="#311e3e">
	<!-- iOS Safari -->
	<meta name="apple-mobile-web-app-status-bar-style" content="#311e3e">
	
	
	
	
	<!-- Google Fonts 1
	<link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,700" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet">-->
	
	
	
	
	
	<!-- Font Awesome -->
	<link rel="stylesheet" href="/assets/fonts/font-awesome/css/font-awesome.min.css">
	<!-- Styles -->
	<link rel="stylesheet" href="/assets/css/main.css">

	<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>  
	
	
	<!--百度统计-->
	<script>
		var _hmt = _hmt || [];
		(function() {
		  var hm = document.createElement("script");
		  hm.src = "https://hm.baidu.com/hm.js?660ee541ef48f4a94f8a59dd0f9e64ae";
		  var s = document.getElementsByTagName("script")[0]; 
		  s.parentNode.insertBefore(hm, s);
		})();
	</script>
	
	
	
	
	
	
	
	<!--谷歌统计-->
	<!-- Global site tag (gtag.js) - Google Analytics 
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-113644888-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-113644888-1');
	</script>-->

</head>

<body>
  <div class="flex-container">
  <header class="main-header">
  <div class="wrapper">
    <div class="header-flex">
      <div class="menu-icon-container">
        <span class="menu-icon"><i class="fa fa-bars" aria-hidden="true"></i></span>
      </div>
      <nav class="main-nav">
        <span class="menu-icon-close"><i class="fa fa-times" aria-hidden="true"></i></span>
        <!--<ul style="height:800px;overflow-y:scroll;overflow-y:auto;"> -->
        <ul>
		 
			 
			 

			 

			 

			 

			 

       

       

       

       

       

       

       

       

       
       
			 <li><a  href="/"  data-hover="所有">所有(78)</a></li>
		 
			 
			 

			 

			 

			 

			 

       

       

       

       

       

       

       

       

       
       
			 <li><a  href="/blog/markdown"  data-hover="Markdown">Markdown(4)</a></li>
		 
			 
			 

			 

			 

			 

			 

       

       

       

       

       

       

       

       

       
       
			 <li><a  href="/blog/essays"  data-hover="随笔">随笔(6)</a></li>
		 
			 
			 

			 

			 

			 

			 

       

       

       

       

       

       

       

       

       
       
			 <li><a  href="/blog/jekyll"  data-hover="Jekyll">Jekyll(1)</a></li>
		 
			 
			 

			 

			 

			 

			 

       

       

       

       

       

       

       

       

       
       
			 <li><a  href="/blog/vue"  data-hover="Vue">Vue(4)</a></li>
		 
			 
			 

			 

			 

			 

			 

       

       

       

       

       

       

       

       

       
       
			 <li><a  href="/blog/react"  data-hover="React">React(2)</a></li>
		 
			 
			 

			 

			 

			 

			 

       

       

       

       

       

       

       

       

       
       
			 <li><a  href="/blog/anglur"  data-hover="Anglur">Anglur(1)</a></li>
		 
			 
			 

			 

			 

			 

			 

       

       

       

       

       

       

       

       

       
       
			 <li><a  href="/blog/youman"  data-hover="构建工具">构建工具(7)</a></li>
		 
			 
			 

			 

			 

			 

			 

       

       

       

       

       

       

       

       

       
       
			 <li><a  href="/blog/nginx2"  data-hover="Nginx2">Nginx2(1)</a></li>
		 
			 
			 

			 

			 

			 

			 

       

       

       

       

       

       

       

       

       
       
			 <li><a  href="/blog/python"  data-hover="Python">Python(2)</a></li>
		 
			 
			 

			 

			 

			 

			 

       

       

       

       

       

       

       

       

       
       
			 <li><a  href="/blog/abouttest"  data-hover="测试相关">测试相关(6)</a></li>
		 
			 
			 

			 

			 

			 

			 

       

       

       

       

       

       

       

       

       
       
			 <li><a  href="/blog/aboutweb"  data-hover="前端相关">前端相关(16)</a></li>
		 
			 
			 

			 

			 

			 

			 

       

       

       

       

       

       

       

       

       
       
			 <li><a  href="/blog/wechat"  data-hover="Wechat">Wechat(21)</a></li>
		 
			 
			 

			 

			 

			 

			 

       

       

       

       

       

       

       

       

       
       
			 <li><a  href="/blog/other"  data-hover="其它">其它(7)</a></li>
		 
          <!--<li style="margin-bottom:200px;"><a href="/about">About(7)</a></li>-->
        </ul>
      </nav>
      <p class="logo"><a href="/">nldrs</a></p>


		<div class="navbar-container">

		<div class="search-icon"><a><i class="fa fa-search" aria-hidden="true"></i></a></div>

			<div class="navbar-menu">
			   
				<a href="/"  data-hover="Home">Home</a>  <!--title="访问 Home"-->
				<!--<a href="/">Home</a>-->
					
				<a href="/about"  data-hover="About">About</a>  <!--title="访问 About"-->
				<!--<a href="/about">About</a>-->
					
			</div>


			<div class="navbar-mobile-menu" onclick="">
				<span class="icon-menu cross"><span class="middle"></span></span>
				<ul>
				   
					 <li><a href="/"data-hover="Home">Home</a></li>  <!--title="访问 Home"-->
					 <!--<li><a href="/">Home</a></li>-->
				   
					 <li><a href="/about"data-hover="About">About</a></li>  <!--title="访问 About"-->
					 <!--<li><a href="/about">About</a></li>-->
				   
				</ul>
			</div>



		</div>

    <!--  <div class="search-icon-container">
	    <a href="/" style="text-decoration: none; color: inherit;margin-right:20px;">Home</a>
		<a href="/about" style=" text-decoration: none; color: inherit;margin-right:20px;">About</a>
        <span class="search-icon"><a><i class="fa fa-search" aria-hidden="true"></i></a></span>
      </div> -->


    </div>
  </div>
</header> <!-- End Header -->

  <article class="article-page">
    <div class="page-image">
      <div class="cover-image" style="background: url(/assets/img/lpf-1.jpg) center no-repeat; background-size: cover;"></div>
    </div>
    <div class="wrapper">
      <div class="page-content">
        <div class="header-page">
          <h1 class="page-title">学习微信开发者工具</h1>
          <div class="page-date"><time datetime="2018-08-27 20:16:00 +0800">2018, Aug 27</time>
		  <span id="busuanzi_container_page_pv"> | 访问量：<span id="busuanzi_value_page_pv"></span> 次</span>
		  </div>
        </div>
        <p>学习微信开发者工具！</p>

<h2 id="模式选择">模式选择</h2>
<p>开发者工具提供两种开发模式的选择。</p>

<p>1.公众号网页调试。选择公众号网页调试，将直接进入公众号网页项目调试界面，在地址栏输入 URL，即可调试该网页的微信授权以及微信 JS-SDK 功能。</p>

<p>2.小程序调试。选择小程序调试，将进入小程序本地项目管理页，可以新建、删除本地的项目，或者选择进入已存在的本地项目。</p>

<h2 id="自定义编译">自定义编译</h2>

<p>点击工具栏中的编译按钮或者使用快捷键 Ctrl(⌘) + B，可以编译当前代码，并自动刷新模拟器。</p>

<p>同时为了帮助开发者调试从不同场景值进入具体的页面，开发者可以添加或选择已有的自定义编译条件进行编译和代码预览（如图）。</p>

<p>注：编译条件跟项目相关，每个项目可以保存自己相关的编译条件</p>

<p>忽略上传的文件：在项目文件夹下，某些文件可能不是小程序运行所需的，例如 readme 文档、.gitignore 文件等。为了优化大小，在预览和上传的过程中，这些文件将不会被打包。</p>

<p>体积过大的文件：如果勾选了 ES6 转 ES5 或代码压缩的选项，为了优化编译速度，对于某些体积很大的 JS 文件，工具会跳过对这些文件的处理。</p>

<p>在项目设置页卡，我们提供了以下几个默认的预处理，可以解决大部分的代码文件预处理的问题</p>

<p>ES6 转 ES5（可以应用于编译、预览、上传），使用 “babel-core”: “^6.26.0”
上传代码时样式自动补全，使用 “postcss”: “^6.0.1”
上传代码时自动压缩，使用 “uglify-js”: “3.0.27”
对于高级开发者来说，完全可以自己编写自动化构建脚本对代码文件进行预处理，所以我们提供了 启用自定义处理命令 选项 开发者可以指定 编译前/预览前/上传前 需要预处理的命令 开发者工具使用 shell 的方式运行指定的命令，并在控制台中输出命令的执行日志</p>

<p>预处理命令的执行顺序</p>

<p>自定义预处理命令
默认预处理命令
编译/预览/上传
注：</p>

<p>编译前预处理命令，需要手动点击 “编译” 按钮，或者使用快捷键编译才能触发。文件修改无法触发该命令。
Mac 版本的开发者工具无法复用 bash 中的 Path 环境变量。可能需要手动设置系统的 Path 环境变量，才能正常执行命令。</p>

<h2 id="前后台切换">前后台切换</h2>
<p>工具栏中前后台切换帮助开发者模拟一些客户端的环境操作。例如当用户从小程序中回到聊天窗口，会触发一个小程序被设置为后台的回调。</p>

<h2 id="调试工具">调试工具</h2>
<p>调试工具分为 7 大功能模块：Wxml、Console、Sources、Network、Appdata、Storage、Sensor、Trace</p>

<h3 id="wxml-panel">Wxml panel</h3>
<p>Wxml panel 用于帮助开发者开发 wxml 转化后的界面。在这里可以看到真实的页面结构以及结构对应的 wxss 属性，同时可以通过修改对应 wxss 属性，在模拟器中实时看到修改的情况（仅为实时预览，无法保存到文件）。通过调试模块左上角的选择器，还可以快速定位页面中组件对应的 wxml 代码。</p>

<h3 id="sources-panel">Sources panel</h3>
<p>Sources panel 用于显示当前项目的脚本文件，同浏览器开发不同，微信小程序框架会对脚本文件进行编译的工作，所以在 Sources panel 中开发者看到的文件是经过处理之后的脚本文件，开发者的代码都会被包裹在 define 函数中，并且对于 Page 代码，在尾部会有 require 的主动调用。注：当代码运行到断点的时候，整个小程序都停止了，所以模拟器会出现白屏或者无法操作的情况</p>

<h3 id="appdata-panel">AppData panel</h3>
<p>AppData panel 用于显示当前项目运行时小程序 AppData 具体数据，实时地反映项目数据情况，可以在此处编辑数据，并及时地反馈到界面上。</p>

<h3 id="storage-panel">Storage panel</h3>
<p>Storage panel 用于显示当前项目使用 wx.setStorage 或者 wx.setStorageSync 后的数据存储情况。</p>

<p>可以直接在 Storage panel 上对数据进行删除（按 delete 键）、新增、修改</p>

<h3 id="network-panel">Network panel</h3>
<p>Network Panel 用于观察和显示 request 和 socket 的请求情况 注：uploadFile 和 downloadFile 暂时不支持在 Network Panel 中查看</p>

<h3 id="console-panel">Console panel</h3>
<p>Console panel 有两大功能：</p>

<p>1.开发者可以在此输入和调试代码
2.小程序的错误输出，会显示在此处</p>

<blockquote>
  <p>在控制台中可以输入以下命令</p>
  <h4 id="build-编译小程序">build: 编译小程序</h4>
  <h4 id="preview-预览">preview: 预览</h4>
  <h4 id="upload-上传代码">upload: 上传代码</h4>
  <h4 id="openvendor-打开基础库所在目录">openVendor: 打开基础库所在目录</h4>
  <h4 id="opentoolslog-打开工具日志目录">openToolsLog: 打开工具日志目录</h4>
  <h4 id="checkproxyurl-检查指定-url-的代理使用情况">checkProxy(url): 检查指定 url 的代理使用情况</h4>
</blockquote>

<h3 id="sensor-panel">Sensor panel</h3>
<p>Sensor panel 有两大功能：</p>

<p>1.开发者可以在这里选择模拟地理位置
2.开发可以在这里模拟移动设备表现，用于调试重力感应 API</p>

<h2 id="自定义数据上报">自定义数据上报</h2>
<p>开发者工具上可以编辑和调试自定义分析的数据上报功能，点击菜单栏中的 “工具 - 自定义分析” 即可弹窗打开自定义分析：</p>

<h2 id="扫码接口">扫码接口</h2>
<p>同手机端直接调用摄像头来扫码不同，在 PC 或者 Mac 上调用摄像头来扫码完成调试是一个低效的行为，所以在开发工具上调用二维码扫码 API 后，开发者可以选择一个本地的图片来进行后续的逻辑调试，而不是真正的启用摄像头来扫码，流程有所不同，但是接口的输入和输出是一致的。</p>

<h2 id="微信支付">微信支付</h2>
<p>最新版本的开发者工具已经支持微信支付的调试，但是为了兼顾到安全，同手机上直接调用微信支付有所不同：</p>

<p>新绑定的开发者需要 24 小时后才有权限进行微信支付的调试
开发者在工具上调用微信支付的 API 后，开发工具会出现一个二维码，开发者必须使用当前开发所使用的微信号扫码后在手机上完成支付的流程
工具会同步移动端微信支付的回包到工具中，开发者自行进行后续的操作
使用的交互有所不同，但是接口的输入输出工具同客户端是保持一致的。</p>

<h2 id="启动使用自定义参数">启动使用自定义参数</h2>
<p>在日常使用中，用户可以通过扫码、分享打开一个小程序，这时候会依据设置的启动页面：path 跳转到对应的小程序页面（不一定是首页）并且可以携带参数：query。在开发者工具中，开发者同样可以通过自定义编译条件的方式来达到调试不同启动页面和启动参数的目的。</p>

<p>例如下图是选择进入页面是 page/API/index，参数 是 name=can</p>

<h2 id="进入场景值">进入场景值</h2>
<p>在微信客户端中，用户可能在各个场景下打开小程序 详情 ，然而在开发者工具中是没有真实的环境去模拟这些场景的。开发者可以通过条件编译的方式来达到调试不同场景的目的。</p>

<h2 id="普通的转发">普通的转发</h2>
<p>开发者工具上调用转发是一个模拟的行为，并不会真实的转发给用户，开发可以通过这个模拟行为判断是否正确的调用了转发 API。</p>

<h2 id="带-shareticket-的转发">带 shareTicket 的转发</h2>
<p>带 shareTicket 的转发可以获取到更多的转发信息，例如群聊的名称以及群的标识 openGId。在小程序开发者工具上，开发者可以通过以下方式来调试带 shareTicket 的转发。</p>

<p>调用 wx.showShareMenu 的参数 withShareTicket 为 true 时，点击模拟器右上角菜单后出现的转发按钮，会出现一个测试群列表</p>

<p>开发者点击选取任何一个群，可以通过接口的回包获取到 shareTicket ，通过调用 wx.getShareInfo 可以获取到相关转发的信息
当开发者需要调试从某一个群点开，并且带有 shareTicket 的场景时，可以使用自定义编译中的 1044:群聊会话中的小程序消息卡片（带 shareTicket） 同时可以选择任一模拟测试群</p>

<h2 id="预览使用自定义编译条件">预览使用自定义编译条件</h2>
<p>同 启动使用自定义参数 相同，提交预览时，开发者可以通过自定义预览的方式来达到在移动设备上调试不同启动页面和启动参数 的目的。我们可以选择已经创建好的自定义编译条件进行预览。</p>

<h2 id="调试小程序是否能够正确的跳转">调试小程序是否能够正确的跳转</h2>
<p>出于小程序代码的安全考虑，在工具上调用 wx.navigateToMiniProgram 的时候，开发者工具不会真实的打开和跳转到另外的小程序，但是工具会判断当前小程序与需要跳转的小程序之间的绑定关系，输出相关信息给到开发者。开发者可以根据成功或者失败的回调函数来判断调用是否成功。</p>

<h2 id="调试被打开的小程序时候正确的接收参数">调试被打开的小程序时候正确的接收参数</h2>
<p>选择 自定义编译 进入场景选择 1037 从小程序进入 可以调试小程序被打开时候是否接收到了正确的参数并做了相关处理。</p>

<p>选择 自定义编译 进入场景选择 1038 从小程序返回 可以调试小程序返回时候是否接收到了正确的参数并做了相关处理。</p>

<h2 id="功能概述">功能概述</h2>
<blockquote>
  <p>真机远程调试功能可以实现直接利用开发者工具，通过网络连接，对手机上运行的小程序进行调试，帮助开发者更好的定位和查找在手机上出现的问题。</p>
</blockquote>

<h3 id="调试流程"><code class="highlighter-rouge">调试流程</code></h3>
<blockquote>
  <p>要发起一个真机远程调试流程，需要先点击开发者工具的工具栏上 “远程调试” 按钮。此时，工具会将本地代码进行处理打包并上传，就绪之后，使用手机客户端扫描二维码即可弹出调试窗口，开始远程调试。远程调试窗口分为两部分，分别是左侧的调试器视图、右侧的信息视图。开发者可以在调试器里直接进行代码的调试，并查看 Storage 情况；信息视图则可以查看目前与手机和服务器的连接情况，以及发生的错误信息等。</p>
</blockquote>

<h4 id="调试器">调试器</h4>
<p>在远程调试的调试器里，开发者可以在 Console 面板里对代码进行调试，在 Sources 面板里查看小程序的源代码并进行断点单步调试，在 Storage 面板里查看小程序的 Storage 使用情况等。</p>

<blockquote>
  <p>注意，要在 Console 里对小程序进行调试，需要将调试的上下文切换到 VM Context 1，如图所示。在 Sources 面板查看源代码时，开发者所有的文件路径都是以 weapp:// 开头的。</p>
</blockquote>

<p>除了可以在调试器进行单步调试，开发者还能在代码中手动插入 debugger; 语句进行断点调试。因此，如果想要在小程序启动的尽早时刻断点，可以在进入远程调试之前，编辑代码手动在需要断点处的代码插入 debugger; 语句来实现。</p>

<p>WXML、AppData、Storage 面板的操作和开发者工具调试模拟器时的操作一致。注意，如果在右侧信息视图取消勾选了 “使用工具端的 Storage”，则所有的 Storage 数据将被存储在手机上，将不再出现 Storage 面板</p>

<p>右侧的信息视图展示了手机、网络连接的信息。手机信息展示手机的型号、系统、名称、微信版本等信息，以及通信延时。通信延时越小，与手机的通信越流畅。</p>

<p>在 “连接信息” 里，展示了工具与服务器的连接信息，包括了连接状态、服务器状态等，当连接故障、服务器阻塞影响到调试的过程和流畅度时，此处将展示这一状态。当连接状态为 “已结束” 时，表明调试已被终止。</p>

<p>“警告和错误” 展示了最近发生的错误和警告信息。如果网络连接断开，此处将会询问开发者是否需要重新连接。</p>

<h2 id="手机端展示">手机端展示</h2>
<p>调试过程中的手机端展示如下所示。</p>
<blockquote>
  <p>当手机无网络或者进入了断点状态时，将会出现一个浮层提示并阻止进一步的操作。</p>
</blockquote>

<h2 id="功能描述">功能描述</h2>
<p>开发者工具需要使用微信号登录，我们以此帐号作为所有打开的项目的主帐号，当登录的帐号改变时，其登录态将同步到所有已打开的项目窗口； 当小程序/小游戏需要多个微信号才能共同完成一项工作的话，我们提供了多帐号调试的功能</p>

<p>使用不同于主帐号的微信扫描二维码可以添加一个测试帐号，如果该测试帐号登录了其他开发者工具客户端，登录态将失效</p>

<p>点击 ‘+’、‘-’ 我们可以添加多个测试号，或者删除已添加的测试号；按住 ‘ctrl’ 键，鼠标可以多选</p>

<p>我们可以同时勾选多个帐号，打开多个调试窗口来调试同一个项目；调试窗口与项目主窗口不同，只有模拟器和调试器；对项目代码编辑还是需要在项目主窗口进行，代码保存后，各个调试窗口可以同步执行最新的代码</p>

<h2 id="npm-支持">npm 支持</h2>
<p>从小程序基础库版本 2.2.1 开始，小程序支持使用 npm 安装第三方包。 开发时需要使用 beta 版开发者工具。</p>

<p>此文档要求开发者们对 npm 有一定的了解，因此不会再去介绍 npm 的基本功能。如若之前未接触过 npm，请翻阅官方 npm 文档进行学习。</p>

<h2 id="使用-npm-包">使用 npm 包</h2>
<p>1.在小程序中执行命令安装 npm 包：</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">npm</span> <span class="nx">install</span> <span class="o">--</span><span class="nx">production</span>
<span class="nx">PS</span><span class="err">：此处请务必使用</span><span class="o">--</span><span class="nx">production</span><span class="err">选项，可以减少安装一些业务无关的</span> <span class="nx">npm</span> <span class="err">包，从而减少整个小程序包的大小。</span>
</code></pre></div></div>
<blockquote>
  <p>处并没有强制要求 node_modules 必须在小程序根目录下（即 project.config.js 中的 miniprogramRoot 字段），也可以存在于小程序根目录下的各个子目录中。但是不允许 node_modules 在小程序根目录外。</p>
</blockquote>

<p>2.点击开发者工具中的菜单栏：工具 –&gt; 构建 npm 
3.勾选“使用 npm 模块”选项： 
4.构建完成后即可使用 npm 包。</p>

<p>js 中引入 npm 包：</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="kr">package</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'packageName'</span><span class="p">)</span>
<span class="kd">const</span> <span class="nx">packageOther</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'packageName/other'</span><span class="p">)</span>
</code></pre></div></div>
<h4 id="使用-npm-包中的自定义组件"><code class="highlighter-rouge">使用 npm 包中的自定义组件</code></h4>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="s2">"usingComponents"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"package"</span><span class="p">:</span> <span class="s2">"packageName"</span><span class="p">,</span>
    <span class="s2">"package-other"</span><span class="p">:</span> <span class="s2">"packageName/other"</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="发布小程序-npm-包的约束">发布小程序 npm 包的约束</h2>
<p>这里要发布的 npm 包是特指专为小程序定制的 npm 包（下称小程序 npm 包）。因为小程序自定义组件的特殊性，原有的 npm 包机制无法满足我们的需求，所以这里需要对小程序 npm 包做一些约束</p>

<p>1.小程序 npm 包要求根目录下必须有构建文件生成目录（默认为 miniprogram_dist 目录），此目录可以通过在 package.json 文件中新增一个 miniprogram 字段来指定，比如：</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"miniprogram-custom-component"</span><span class="p">,</span>
  <span class="s2">"version"</span><span class="p">:</span> <span class="s2">"1.0.0"</span><span class="p">,</span>
  <span class="s2">"description"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
  <span class="s2">"miniprogram"</span><span class="p">:</span> <span class="s2">"dist"</span><span class="p">,</span>
  <span class="s2">"devDependencies"</span><span class="p">:</span> <span class="p">{},</span>
  <span class="s2">"dependencies"</span><span class="p">:</span> <span class="p">{}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>2.小程序 npm 包里只有构建文件生成目录会被算入小程序包的占用空间，上传小程序代码时也只会上传该目录的代码。如果小程序 npm 包有一些测试、构建相关的代码请放到构建文件生成目录外。另外也可以使用.npmignore文件来避免将一些非业务代码文件发布到 npm 中。
3.测试、构建相关的依赖请放入 devDependencies 字段中避免被一起打包到小程序包中。</p>

<h2 id="发布其他-npm-包的约束">发布其他 npm 包的约束</h2>
<p>如果是已经发布过的一些 npm 包，因为一些原因无法改造成小程序 npm 包的结构的话，也可以通过微调后被使用，但是请确保遵循以下几点：</p>

<p>只支持纯 js 包，不支持自定义组件。
必须有入口文件，即需要保证 package.json 中的 main 字段是指向一个正确的入口，如果 package.json 中没有 main 字段，则以 npm 包根目录下的 index.js 作为入口文件。
测试、构建相关的依赖请放入 devDependencies 字段中避免被一起打包到小程序包中，这一点和小程序 npm 包的要求相同。
不支持依赖 json文件、c++ addon，不支持依赖 nodejs 的内置库：</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'./data.json'</span><span class="p">);</span> <span class="c1">// 不支持！</span>
<span class="kd">const</span> <span class="nx">addon</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'./addon.node'</span><span class="p">);</span> <span class="c1">// 不支持！</span>
<span class="kd">const</span> <span class="nx">http</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'http'</span><span class="p">);</span> <span class="c1">// 不支持！</span>
</code></pre></div></div>
<p>使用 require 依赖的时候下列几种方式也是不允许的：</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 不允许将 require 赋值给其他变量后再使用，以下代码不会去解析出具体依赖</span>
<span class="kd">let</span> <span class="nx">r</span><span class="p">;</span>
<span class="nx">r</span> <span class="o">=</span> <span class="nx">require</span><span class="p">;</span>
<span class="nx">r</span><span class="p">(</span><span class="s1">'testa'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">r2</span> <span class="o">=</span> <span class="nx">require</span><span class="p">;</span>
<span class="nx">r2</span><span class="p">(</span><span class="s1">'testa'</span><span class="p">);</span>

<span class="c1">// 不允许 require 一个变量，以下代码依赖运行时，无法解析出具体依赖</span>
<span class="kd">let</span> <span class="nx">m</span> <span class="o">=</span> <span class="s1">'testa'</span><span class="p">;</span>
<span class="nx">require</span><span class="p">(</span><span class="nx">m</span><span class="p">);</span>
</code></pre></div></div>
<p>小程序环境比较特殊，一些全局变量（如 window 对象）和构造器（如 Function 构造器）是无法使用的。</p>

<h2 id="原理介绍">原理介绍</h2>
<h4 id="为了帮助大家更好的理解发布-npm-包中提到的各种要求这里简单介绍一下原理"><code class="highlighter-rouge">为了帮助大家更好的理解发布 npm 包中提到的各种要求，这里简单介绍一下原理：</code></h4>

<blockquote>
  <p>首先 node_modules 目录不会参与编译、上传和打包中，所以小程序想要使用 npm 包必须走一遍“构建 npm”的过程，在最外层的 node_modules 的同级目录下会生成一个 miniprogram_npm 目录，里面会存放构建打包后的 npm 包，也就是小程序真正使用的 npm 包。
构建打包分为两种：小程序 npm 包会直接拷贝构建文件生成目录下的所有文件到 miniprogram_npm 中；其他 npm 包则会从入口 js 文件开始走一遍依赖分析和打包过程（类似 webpack）。
寻找 npm 包的过程和 npm 的实现类似，从依赖 npm 包的文件所在目录开始逐层往外找，直到找到可用的 npm 包或是小程序根目录为止。 下面简单介绍下构建打包前后的目录情况，构建之前的结构：</p>
</blockquote>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">|--</span><span class="nx">node_modules</span>
<span class="o">|</span>    <span class="o">|--</span><span class="nx">testComp</span> <span class="c1">// 小程序 npm 包</span>
<span class="o">|</span>    <span class="o">|</span>    <span class="o">|--</span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span>
<span class="o">|</span>    <span class="o">|</span>    <span class="o">|--</span><span class="nx">src</span>
<span class="o">|</span>    <span class="o">|</span>    <span class="o">|--</span><span class="nx">miniprogram_dist</span>
<span class="o">|</span>    <span class="o">|</span>         <span class="o">|-</span><span class="nx">index</span><span class="p">.</span><span class="nx">js</span>
<span class="o">|</span>    <span class="o">|</span>         <span class="o">|-</span><span class="nx">index</span><span class="p">.</span><span class="nx">json</span>
<span class="o">|</span>    <span class="o">|</span>         <span class="o">|-</span><span class="nx">index</span><span class="p">.</span><span class="nx">wxss</span>
<span class="o">|</span>    <span class="o">|</span>         <span class="o">|-</span><span class="nx">index</span><span class="p">.</span><span class="nx">wxml</span>
<span class="o">|</span>    <span class="o">|--</span><span class="nx">testa</span> <span class="c1">// 其他 npm 包</span>
<span class="o">|</span>         <span class="o">|--</span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span>
<span class="o">|</span>         <span class="o">|--</span><span class="nx">lib</span>
<span class="o">|</span>         <span class="o">|</span>    <span class="o">|--</span><span class="nx">entry</span><span class="p">.</span><span class="nx">js</span>
<span class="o">|</span>         <span class="o">|--</span><span class="nx">node_modules</span>
<span class="o">|</span>              <span class="o">|--</span><span class="nx">testb</span>
<span class="o">|</span>                   <span class="o">|--</span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span>
<span class="o">|</span>                   <span class="o">|--</span><span class="nx">main</span><span class="p">.</span><span class="nx">js</span>
<span class="o">|--</span><span class="nx">pages</span>
<span class="o">|--</span><span class="nx">app</span><span class="p">.</span><span class="nx">js</span>
<span class="o">|--</span><span class="nx">app</span><span class="p">.</span><span class="nx">wxss</span>
<span class="o">|--</span><span class="nx">app</span><span class="p">.</span><span class="nx">json</span>
<span class="o">|--</span><span class="nx">project</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">js</span>
</code></pre></div></div>
<p>构建之后的结构：</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">|--</span><span class="nx">node_modules</span>
<span class="o">|--</span><span class="nx">miniprogram_npm</span>
<span class="o">|</span>    <span class="o">|--</span><span class="nx">testComp</span> <span class="c1">// 小程序 npm 包</span>
<span class="o">|</span>    <span class="o">|</span>    <span class="o">|-</span><span class="nx">index</span><span class="p">.</span><span class="nx">js</span>
<span class="o">|</span>    <span class="o">|</span>    <span class="o">|-</span><span class="nx">index</span><span class="p">.</span><span class="nx">json</span>
<span class="o">|</span>    <span class="o">|</span>    <span class="o">|-</span><span class="nx">index</span><span class="p">.</span><span class="nx">wxss</span>
<span class="o">|</span>    <span class="o">|</span>    <span class="o">|-</span><span class="nx">index</span><span class="p">.</span><span class="nx">wxml</span>
<span class="o">|</span>    <span class="o">|--</span><span class="nx">testa</span> <span class="c1">// 其他 npm 包</span>
<span class="o">|</span>         <span class="o">|--</span><span class="nx">index</span><span class="p">.</span><span class="nx">js</span> <span class="c1">// 打包后的文件</span>
<span class="o">|</span>         <span class="o">|--</span><span class="nx">miniprogram_npm</span>
<span class="o">|</span>              <span class="o">|--</span><span class="nx">testb</span>
<span class="o">|</span>                   <span class="o">|--</span><span class="nx">index</span><span class="p">.</span><span class="nx">js</span> <span class="c1">// 打包后的文件</span>
<span class="o">|</span>                   <span class="o">|--</span><span class="nx">index</span><span class="p">.</span><span class="nx">js</span><span class="p">.</span><span class="nx">map</span>
<span class="o">|--</span><span class="nx">pages</span>
<span class="o">|--</span><span class="nx">app</span><span class="p">.</span><span class="nx">js</span>
<span class="o">|--</span><span class="nx">app</span><span class="p">.</span><span class="nx">wxss</span>
<span class="o">|--</span><span class="nx">app</span><span class="p">.</span><span class="nx">json</span>
<span class="o">|--</span><span class="nx">project</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">js</span>
</code></pre></div></div>
<blockquote>
  <p>PS：打包生成的代码在同级目录下会生成 source map 文件，方便进行逆向调试。</p>
</blockquote>

<p>自定义组件示例
以下为官方提供的自定义组件，可以参考并使用：</p>

<h4 id="slide-view"><a href="https://github.com/wechat-miniprogram/slide-view">slide-view</a></h4>
<h4 id="navigation-bar"><a href="https://github.com/wechat-miniprogram/navigation-bar">navigation-bar</a></h4>
<h4 id="recycle-view"><a href="https://github.com/wechat-miniprogram/recycle-view">recycle-view</a></h4>

<h3 id="命令行">命令行</h3>
<p>通过命令行调用安装完成的工具可执行文件，完成登录、预览、上传、自动化测试等操作。调用返回码为 0 时代表正常，为 -1 时错误。</p>

<p>命令行工具所在位置：</p>

<p>macOS: <安装路径>/Contents/Resources/app.nw/bin/cli</安装路径></p>

<p>Windows: <安装路径>/cli.bat</安装路径></p>

<ol>
  <li>命令行启动工具
-o, –open [projectpath]: 打开工具，如果不带 projectpath，只是打开工具。如果带 project path，则打开路径中的项目，每次执行都会自动编译刷新，并且自动打开模拟器和调试器。projectpath 不能是相对路径。项目路径中必须含正确格式的 project.config.json 且其中有 appid 和 projectname 字段。</li>
</ol>

<p>示例：</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">#</span> <span class="err">打开工具</span>
<span class="nx">cli</span> <span class="o">-</span><span class="nx">o</span>
<span class="err">#</span> <span class="err">打开路径</span> <span class="o">/</span><span class="nx">Users</span><span class="o">/</span><span class="nx">username</span><span class="o">/</span><span class="nx">demo</span> <span class="err">下的项目</span>
<span class="nx">cli</span> <span class="o">-</span><span class="nx">o</span> <span class="o">/</span><span class="nx">Users</span><span class="o">/</span><span class="nx">username</span><span class="o">/</span><span class="nx">demo</span>
</code></pre></div></div>

<ol>
  <li>命令行登录
命令行提供两种登录方式：一是将登录二维码转成 base64 给用户，让用户自己集成到自己系统中使用；二是将二维码打印在命令行中。</li>
</ol>

<p>-l, –login: 启动登录逻辑。</p>

<p>–login-qr-output [format[@path]]: 指定二维码输出形式，format 可选值包括 terminal（命令行输出）, base64, image。如果有填 path，表示结果输出到指定路径的文件中。如果没填 path，表示将结果输出到命令行。不使用此选项或使用了但没有填 format 的话则默认为命令行打印。</p>

<p>示例：</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">#</span> <span class="err">登录，在终端中打印登录二维码</span>
<span class="nx">cli</span> <span class="o">-</span><span class="nx">l</span>
<span class="err">#</span> <span class="err">登录，在终端中打印登录</span> <span class="nx">base64</span> <span class="err">形式的二维码</span>
<span class="nx">cli</span> <span class="o">-</span><span class="nx">l</span> <span class="o">--</span><span class="nx">login</span><span class="o">-</span><span class="nx">qr</span><span class="o">-</span><span class="nx">output</span> <span class="nx">base64</span>
<span class="err">#</span> <span class="err">登录，二维码转成</span> <span class="nx">base64</span> <span class="err">并存到文件</span> <span class="o">/</span><span class="nx">Users</span><span class="o">/</span><span class="nx">username</span><span class="o">/</span><span class="nx">code</span><span class="p">.</span><span class="nx">txt</span> 
<span class="nx">cli</span> <span class="o">-</span><span class="nx">l</span> <span class="o">--</span><span class="nx">login</span><span class="o">-</span><span class="nx">qr</span><span class="o">-</span><span class="nx">output</span> <span class="nx">base64</span><span class="p">@</span><span class="sr">/Users/</span><span class="nx">username</span><span class="o">/</span><span class="nx">code</span><span class="p">.</span><span class="nx">txt</span>
</code></pre></div></div>

<ol>
  <li>命令行提交预览
预览时必须处于登录状态，如果没有登录，会提示需先登录。预览的二维码可命令行打印也可以转成 base64。ES6 等项目配置从 project.config.json 读。</li>
</ol>

<p>-p, –preview <project_root>: 预览代码，project_root 指定项目根路径。</project_root></p>

<p>–preview-qr-output [format[@path]]: 指定二维码输出形式，语义同登录用的选项 –login-qr-output。</p>

<p>–preview-info-ouput <path>: 指定后，会将本次预览的额外信息以 json 格式输出至指定路径，如代码包大小、分包大小信息。</path></p>

<p>示例：</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">#</span> <span class="err">预览，在终端中打印登录二维码</span>
<span class="nx">cli</span> <span class="o">-</span><span class="nx">p</span> <span class="o">/</span><span class="nx">Users</span><span class="o">/</span><span class="nx">username</span><span class="o">/</span><span class="nx">demo</span>
<span class="err">#</span> <span class="err">预览，二维码转成</span> <span class="nx">base64</span> <span class="err">并存到文件</span> <span class="o">/</span><span class="nx">Users</span><span class="o">/</span><span class="nx">username</span><span class="o">/</span><span class="nx">code</span><span class="p">.</span><span class="nx">txt</span>
<span class="nx">cli</span> <span class="o">-</span><span class="nx">p</span> <span class="o">/</span><span class="nx">Users</span><span class="o">/</span><span class="nx">username</span><span class="o">/</span><span class="nx">demo</span> <span class="o">--</span><span class="nx">preview</span><span class="o">-</span><span class="nx">qr</span><span class="o">-</span><span class="nx">output</span> <span class="nx">base64</span><span class="p">@</span><span class="sr">/Users/</span><span class="nx">username</span><span class="o">/</span><span class="nx">code</span><span class="p">.</span><span class="nx">txt</span>
<span class="err">#</span> <span class="err">预览，并将预览代码包大小等信息存入</span> <span class="o">/</span><span class="nx">Users</span><span class="o">/</span><span class="nx">username</span><span class="o">/</span><span class="nx">info</span><span class="p">.</span><span class="nx">json</span>
<span class="nx">cli</span> <span class="o">-</span><span class="nx">p</span> <span class="o">/</span><span class="nx">Users</span><span class="o">/</span><span class="nx">username</span><span class="o">/</span><span class="nx">demo</span> <span class="o">--</span><span class="nx">preview</span><span class="o">-</span><span class="nx">info</span><span class="o">-</span><span class="nx">output</span> <span class="o">/</span><span class="nx">Users</span><span class="o">/</span><span class="nx">username</span><span class="o">/</span><span class="nx">info</span><span class="p">.</span><span class="nx">json</span>
</code></pre></div></div>
<ol>
  <li>命令行上传代码
上传代码时必须处于登录状态，如果没有登录，会提示需先登录。</li>
</ol>

<p>上传代码需要的信息包括项目根目录、版本号、以及可选的版本备注。</p>

<p>-u, –upload <a href="mailto:version@project_root">version@project_root</a>: 上传代码，version 指定版本号，project_root 指定项目根路径。</p>

<p>–upload-desc <desc>: 上传代码时的备注。</desc></p>

<p>–upload-info-ouput <path>: 指定后，会将本次上传的额外信息以 json 格式输出至指定路径，如代码包大小、分包大小信息。</path></p>

<p>示例：</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">#</span> <span class="err">上传路径</span> <span class="o">/</span><span class="nx">Users</span><span class="o">/</span><span class="nx">username</span><span class="o">/</span><span class="nx">demo</span> <span class="err">下的项目，指定版本号为</span> <span class="mf">1.0</span><span class="p">.</span><span class="mi">0</span><span class="err">，版本备注为</span> <span class="nx">initial</span> <span class="nx">release</span>
<span class="nx">cli</span> <span class="o">-</span><span class="nx">u</span> <span class="mf">1.0</span><span class="p">.</span><span class="mi">0</span><span class="p">@</span><span class="sr">/Users/</span><span class="nx">username</span><span class="o">/</span><span class="nx">demo</span> <span class="o">--</span><span class="nx">upload</span><span class="o">-</span><span class="nx">desc</span> <span class="s1">'initial release'</span>
<span class="err">#</span> <span class="err">上传并将代码包大小等信息存入</span> <span class="o">/</span><span class="nx">Users</span><span class="o">/</span><span class="nx">username</span><span class="o">/</span><span class="nx">info</span><span class="p">.</span><span class="nx">json</span>
<span class="nx">cli</span> <span class="o">-</span><span class="nx">u</span> <span class="mf">1.0</span><span class="p">.</span><span class="mi">0</span><span class="p">@</span><span class="sr">/Users/</span><span class="nx">username</span><span class="o">/</span><span class="nx">demo</span> <span class="o">--</span><span class="nx">upload</span><span class="o">-</span><span class="nx">desc</span> <span class="s1">'initial release'</span> <span class="o">--</span><span class="nx">preview</span><span class="o">-</span><span class="nx">info</span><span class="o">-</span><span class="nx">output</span> <span class="o">/</span><span class="nx">Users</span><span class="o">/</span><span class="nx">username</span><span class="o">/</span><span class="nx">info</span><span class="p">.</span><span class="nx">json</span>
</code></pre></div></div>

<ol>
  <li>支持自动化测试
-t, –test <project_root>: 提交自动化测试，project_root 指定项目根路径。</project_root></li>
</ol>

<p>示例：</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">#</span> <span class="err">提交测试路径</span> <span class="o">/</span><span class="nx">Users</span><span class="o">/</span><span class="nx">username</span><span class="o">/</span><span class="nx">demo</span> <span class="err">下的项目</span>
<span class="nx">cli</span> <span class="o">-</span><span class="nx">t</span> <span class="o">/</span><span class="nx">Users</span><span class="o">/</span><span class="nx">username</span><span class="o">/</span><span class="nx">demo</span>
</code></pre></div></div>

        <div class="page-footer">
          <div class="page-tag">
            <span>Tags:</span>
            
            <a href="/tags#Wechat" class="tag">| Wechat</a>
            
          </div><!-- End Tags -->
          <div class="page-share">
            <span>Share:</span>
            <a href="https://twitter.com/intent/tweet?text=学习微信开发者工具&url=http://localhost:4000/editor/" title="Share on Twitter" rel="nofollow" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i></a>
            <a href="https://facebook.com/sharer.php?u=http://localhost:4000/editor/" title="Share on Facebook" rel="nofollow" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i></a>
            <a href="https://plus.google.com/share?url=http://localhost:4000/editor/" title="Share on Google+" rel="nofollow" target="_blank"><i class="fa fa-google" aria-hidden="true"></i></a>
						
			<!-- JiaThis Button BEGIN -->
			<div class="jiathis_style_32x32">
				<a class="jiathis_button_weixin"></a>
				<a class="jiathis_button_tsina"></a>
				<!--<a class="jiathis_button_tqq"></a>
				<a class="jiathis_button_qzone"></a>
				<a class="jiathis_button_renren"></a>-->
				<a href="http://www.jiathis.com/share?uid=2157296" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
				<a class="jiathis_counter_style"></a>
			</div>
			<script type="text/javascript">var jiathis_config = {data_track_clickback:'true'};</script>
			<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=2157296" charset="utf-8"></script>
			<!-- JiaThis Button END -->
          </div><!-- End Share -->
		  
		
		  
		  <section>
			<!--<div style="background:#000;border-bottom: 1px solid #d9d9d9;"></div> -->

            <div class="content-play">
              <p><a href="javascript:void(0)" onclick="dashangToggle()" class="dashang" title="打赏，支持一下">打赏一下呗</a></p>
              <div class="hide_box-play"></div>
              <div class="shang_box-play">
                <a class="shang_close-play" href="javascript:void(0)" onclick="dashangToggle()" title="关闭"><img src="/assets/img/close.jpg" alt="取消" /></a>
                <div class="shang_tit-play">
                  <p>对你有帮助，那就打赏一下吧</p>
                </div>
				
				<div class="shang_payimg">    
                    <img src="/assets/img/wechatimg.jpg" alt="扫码支持" title="扫一扫"/>
                </div>
				
				 <div class="pay_item" data-id="weipay">
                    <span class="pay_logo"><img src="/assets/img/wechat.jpg" alt="微信" /></span>
                  </div>
				
                <div class="shang_payimg">
                    <img src="/assets/img/alipayimg.jpg" alt="扫码支持" title="扫一扫" />
                </div>
				
				 <div class="pay_item checked" data-id="alipay">
                    <span class="pay_logo"><img src="/assets/img/alipay.jpg" alt="支付宝" /></span>
                  </div>
				
                <div class="pay_explain">扫码打赏,金额随意</div>
               
              </div>
            </div>
            <script type="text/javascript">
            function dashangToggle(){
              $(".hide_box-play").fadeToggle();
              $(".shang_box-play").fadeToggle();
            }
            </script>

            <div style="text-align:center;margin:50px 0; font:normal 14px/24px 'MicroSoft YaHei';"></div>

            <style type="text/css">
              .content-play{width:100%;margin-top: 20px;margin-bottom: 10px;height:40px;text-align:center;}
              .hide_box-play{z-index:999;filter:alpha(opacity=50);background:#666;opacity: 0.5;-moz-opacity: 0.5;left:0;top:0;height:99%;width:100%;position:fixed;display:none;}
              .shang_box-play{width:100%;height:540px;padding:10px;background-color:#fff;border-radius:10px;position:fixed;z-index:1000;left:0%;top:50%;margin-left:0px;margin-top:-280px;border:1px dotted #dedede;display:none;}
              .shang_box-play img{border:none;border-width:0;}
              .dashang{width:100px;margin:5px auto;height:25px;line-height:25px;padding:10px;background-color:#E74851;color:#fff;text-align:center;text-decoration:none;border-radius:10px;font-weight:bold;font-size:16px;transition: all 0.3s;}
              .dashang:hover{opacity:0.8;padding:15px;font-size:18px;}
              .shang_close-play{float:right;display:inline-block;
                margin-right: 10px;margin-top: 20px;
              }
              .shang_logo{display:block;text-align:center;margin:20px auto;}
              .shang_tit-play{width: 100%;height: 75px;text-align: center;line-height: 66px;color: #a3a3a3;font-size: 16px;background: url('/images/payimg/cy-reward-title-bg.jpg');font-family: 'Microsoft YaHei';margin-top: 7px;margin-right:2px;}
              .shang_tit-play p{color:#a3a3a3;text-align:center;font-size:16px;}
              .shang_payimg{padding:10px;/*border:6px solid #EA5F00;**/margin:0 auto;border-radius:3px;height:140px;display:inline-block;}
              .shang_payimg img{display:inline-block;margin-right:10px;float:left;text-align:center;width:140px;height:140px; }
              .pay_explain{text-align:center;margin:10px auto;font-size:12px;color:#545454;}
              .shang_payselect{text-align:center;margin:0 auto;margin-top:40px;cursor:pointer;height:60px;width:500px;margin-left:110px;}
              .shang_payselect .pay_item{display:inline-block;margin-right:140px;float:left;}
              .shang_info-play{clear:both;}
              .shang_info-play p,.shang_info-play a{color:#C3C3C3;text-align:center;font-size:12px;text-decoration:none;line-height:2em;}
            </style>

       <ul class="pager">
	    
        <li class="previous">
            <a href="/kj1/" data-toggle="tooltip" data-placement="top" title="学习微信开发框架(一)">上一篇：  <span>学习微信开发框架(一)</span>
            </a>
        </li>
		
		<br><br>
		
        
        
        <li class="next">
            <a href="/resetFul/" data-toggle="tooltip" data-placement="top" title="前端相关">下一篇：  <span>前端相关</span>
            </a>
        </li>
        
    </ul>
</section>

        </div>
		
		
        <section class="author-box">
  <img src="/assets/img/leach-face.jpg" alt="nldrs" class="author-img">
  <div class="author-desc">
    <h2>nldrs</h2>
    <p>码农，嘿说你呢！！？</p>
    <ul>
      
        <li class="email"><a href="mailto:lpfwch777@gmail.com"><i class="fa fa-envelope-o"></i></a></li>
      
      
        <li class="phone"><a href="tel:0"><i class="fa fa-phone"></i></a></li>
      
      <!--
        <li class="website"><a href="https://artemsheludko.github.io" target="_blank"><i class="fa fa-globe" aria-hidden="true"></i></a></li>
      
      
        <li class="twitter"><a href="https://twitter.com/artemsheludko_" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
      -->
    </ul>
  </div>
</section>

        <div class="recent-box">
  <h2 class="recent-title">Recent post</h2>
  <div class="recent-list">
    
      
        <a href="/mysql/" class="recent-item" style="background: url(/assets/img/lpf-10.jpg) center no-repeat; background-size: cover;"><span>mysql 学习</span></a>
      
    
      
        <a href="/uniapp6/" class="recent-item" style="background: url(/assets/img/lpf-50.jpg) center no-repeat; background-size: cover;"><span>uni-app 的总结(echarts)</span></a>
      
    
      
        <a href="/work/" class="recent-item" style="background: url(/assets/img/wch6.jpg) center no-repeat; background-size: cover;"><span>入职的第二周</span></a>
      
    
      
        <a href="/arr/" class="recent-item" style="background: url(/assets/img/wch4.jpg) center no-repeat; background-size: cover;"><span>JavaScript 数组去重</span></a>
      
    
  </div>
</div> <!-- End Recent-Box -->

        <div class="newsletter" id="mc_embed_signup" style="display:none">
  <h2 class="newsletter-title">Newsletter</h2>
  <div class="form-container">
    <p>Subscribe here to get our latest updates</p>
    <form action="//" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
      <label class="screen-reader-text" for="mce-EMAIL">Email Address</label>
      <div class="newsletter-box" id="mc_embed_signup_scroll">
        <input type="email" name="EMAIL" placeholder="Email address" class="email-input" id="mce-EMAIL" required>
        <input type="submit" value="Subscribe" name="subscribe" class="subscribe-btn" id="mc-embedded-subscribe">
      </div>
    </form>
  </div>
</div> <!-- End Newsletter -->

        <section class="comment-area">
  <div class="comment-wrapper">
   
	  <div id="disqus_thread" class="article-comments"></div>
	    <script>
			var idcomments_acct = '8b1583de29c0b1f23510ee43fce7d4e7';
			var idcomments_post_id;
			var idcomments_post_url;
		</script>
		<span id="IDCommentsPostTitle" style="display:none"></span>
		<script type='text/javascript' src='https://www.intensedebate.com/js/genericCommentWrapperV2.js'></script>
	
  </div>
</section>
      </div>
    </div> <!-- End Wrapper -->
  </article>
  <div class="search-box">
  <div class="wrapper">
    <div class="search-grid">
      <form class="search-form">
        <div id="search-container">
          <input type="text" id="search-input" class="search" placeholder="Search">
        </div>
      </form>
      <ul id="results-container" class="results-search"  style="height:400px;overflow-y:scroll;overflow-y:auto;"></ul>
      <div class="icon-close-container">
        <span class="search-icon-close"><i class="fa fa-times" aria-hidden="true"></i></span>
      </div>
    </div>
  </div>
</div>

  <footer class="main-footer">
	<div class="footer-social">
		<div class="footer-container clearfix">
			<div class="social-list">
				<a class="social github" target="blank" href="https://github.com/nldrs">GitHub</a>
				<a class="social github" target="blank" href="https://www.jianshu.com/u/042fe873dc7c">简书</a>
				<a class="social github" target="blank" href="https://juejin.im/user/5a20a378f265da4311200031/collections">掘金</a>
				<a class="social github" target="blank" href="http://blog.csdn.net/">Csdn</a>
			</div>
		</div>
	</div>

	<div class="copyright">
		<p>2018 &copy; nldrs</p>
		
			
	<div style="font-size:12px;color:#B3B3B3;padding-right:30px;float:right"> 
		<iframe
                style="margin-left: 2px; margin-bottom:-5px;"
                frameborder="0" scrolling="0" width="91px" height="20px"
                src="https://ghbtns.com/github-btn.html?user=leach-chen&repo=leach-chen.github.io&type=star&count=true" >
            </iframe>
		<span id="busuanzi_container_site_pv">本站总访问量：<span id="busuanzi_value_site_pv"></span>次</span>
	</div>
	</div>

</footer> <!-- End Footer -->

</div>

  
  
<div class="top" title="Top"><i class="fa fa-chevron-up" aria-hidden="true"></i></div> <!-- End Top Scroll -->
  <!-- JS -->
<script src="/assets/js/jquery-3.2.1.min.js"></script>
<script src="/assets/js/jekyll-search.js"></script>
<script>
  SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('results-container'),
    json: '/search.json',
    searchResultTemplate: '<li><a href="{url}" title="{desc}">{title}</a></li>',
    noResultsText: 'No results found',
    fuzzy: false,
    exclude: ['Welcome']
  });
</script>
<script src="/assets/js/main.js"></script>

  <!--<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', '', 'auto');
  ga('send', 'pageview');
</script> <!-- End Analytics -->

</body>
</html>
